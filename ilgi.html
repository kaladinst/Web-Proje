<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>İlgi Alanlarım</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="ilgi.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="top">
    <nav class = "nav">
        <ul>
            <li><a href="index.html">Hakkımda</a></li>
            <li> <a href="ozgecmis.html">Özgeçmiş</a> </li>
            <li><a href="sehrim.html">Şehrim</a></li>
            <li><a href="takim.html">Takımımız</a></li>
            <li><a href="ilgi.html">İlgi Alanlarım</a></li>
            <li><a href="iletisim.html">İletişim</a></li>
            <li class ="giris"><a href="login.html">Giriş Yap</a></li>
        </ul>
    </nav>
    <div class="div1">
        <h1>İlgi Alanlarım</h1>
    </div>

</div>
<div id="film"></div>
<script>
    const API_KEY = '105754d85f4eaba480e8e0f2bda27ca3';
    const LIST_ID = "8300560";
    const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';

    let currentPage = 1;
    let totalPages = 1;

    function fetchMovies(page) {
        fetch(`https://api.themoviedb.org/3/list/${LIST_ID}?api_key=${API_KEY}&page=${page}`)
            .then(response => response.json())
            .then(data => {
                const movieList = document.getElementById('film');
                const movies = data.items;
                totalPages = data.total_pages;

                // Iterate over all movies
                for (let i = 0; i < movies.length; i++) {
                    const movie = movies[i];

                    const p = document.createElement('p');
                    p.textContent = ` ${movie.title}`;
                    movieList.appendChild(p);

                    if (movie.poster_path) {
                        const img = document.createElement('img');
                        img.src = IMAGE_BASE_URL + movie.poster_path;
                        img.alt = `Poster of ${movie.title}`;
                        movieList.appendChild(img);
                    }
                }

                // If there are more pages, fetch the next one
                if (currentPage < totalPages) {
                    fetchMovies(currentPage + 1);
                }
            })
            .catch(error => console.error('Error:', error));
    }

    // Start fetching movies
    fetchMovies(currentPage);
</script>


</body>
</html>

